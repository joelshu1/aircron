{% if jobs %}
    {% for job in jobs %}
    <div class="border rounded-lg p-4 mb-3 hover:shadow-md transition">
        <div class="flex justify-between items-start">
            <div class="flex-1">
                <div class="flex items-center space-x-2 mb-2">
                    {% if job.label %}
                        <span class="font-semibold text-blue-700">{{ job.label }}</span>
                    {% else %}
                        <span class="font-medium text-gray-800">{{ job.action.title() }}</span>
                    {% endif %}
                    <span class="text-sm text-gray-500">{{ job.time }}</span>
                    <span class="cron-status text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800">
                        Pending Apply
                    </span>
                </div>
                
                {% if zone.startswith('Custom:') %}
                <div class="text-sm text-blue-600 mb-2">
                    <span class="font-medium">Speakers:</span>
                    {% set speakers = zone.replace('Custom:', '').split(',') %}
                    {% for speaker in speakers %}{{ speaker.strip() }}{% if not loop.last %}, {% endif %}{% endfor %}
                </div>
                {% endif %}
                
                <div class="text-sm text-gray-600 mb-2">
                    <span class="font-medium">Days:</span>
                    {% for day in job.days %}
                        {% if day == 1 %}Mon{% endif %}
                        {% if day == 2 %}Tue{% endif %}
                        {% if day == 3 %}Wed{% endif %}
                        {% if day == 4 %}Thu{% endif %}
                        {% if day == 5 %}Fri{% endif %}
                        {% if day == 6 %}Sat{% endif %}
                        {% if day == 7 %}Sun{% endif %}{% if not loop.last %}, {% endif %}
                    {% endfor %}
                </div>
                
                {% if job.action == 'play' and job.args.uri %}
                <div class="text-xs text-gray-500 font-mono truncate">
                    {{ job.args.uri }}
                </div>
                {% elif job.action == 'volume' and job.args.volume %}
                <div class="text-xs text-gray-500">
                    Volume: {{ job.args.volume }}%
                </div>
                {% endif %}
            </div>
            
            <div class="flex space-x-2 ml-4">
                <button 
                    hx-get="/modal/edit/{{ zone }}/{{ job.id }}"
                    hx-target="#modal-container"
                    hx-swap="innerHTML"
                    class="text-blue-500 hover:text-blue-700 transition"
                    title="Edit"
                >
                    ‚úèÔ∏è
                </button>
                <button 
                    hx-delete="/api/jobs/{{ zone }}/{{ job.id }}"
                    hx-target="closest div"
                    hx-swap="outerHTML"
                    hx-confirm="Are you sure you want to delete this schedule?"
                    class="text-red-500 hover:text-red-700 transition"
                    title="Delete"
                >
                    üóë
                </button>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="text-center text-gray-500 py-8">
        <p class="text-lg mb-2">No schedules yet</p>
        <p class="text-sm">Click "Add Schedule" to create your first schedule.</p>
    </div>
{% endif %} 